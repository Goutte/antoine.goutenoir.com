{% extends 'base.html.twig' %}

{% block title %}Doodle me this{% endblock %}

{% block body %}

    <header>
        <div id="vanity-card" class="discreet-container">
            <h1 title="@ your service">A<span class="discreet-text">ntoine</span> G<span class="discreet-text">outenoir</span></h1>
            <h2 class="discreet-text">
                <span title="Enthusiastic autodidact since 1999">Consultant</span>
                ⋅
                <span title="It's not rocket science, except when it is ! &#128640;">WebSmith</span>
                ⋅
                <span title="Juggler, Mathematician, Philologist">Nerd</span>
            </h2>
            <span id="framerate" title="Frames Per Second (should be 60)" aria-hidden="true"></span>{# For perf-test, 'tis 62 right now #}
        </div>
    </header>

    <div role="main">

{#        <a id="shareOnGithub" href="https://github.com/Goutte/antoine.goutenoir.com">#}
{#            <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" />#}
{#        </a>#}

        {# Canvas holding the doodle's splines (all but current) -#}
        {# camelCase id because of paperjs shenanigans (?) -#}
        <canvas id="doodleHoldingCanvas" resize></canvas>
        {# Canvas holding only the currently drawn doodle's spline -#}
        {# Raster is quite expensive, so we win a big bunch of FPS -#}
        {# Tabindex enables keydown events (to get UNDO on CTRL+Z) -#}
        <canvas id="doodleDrawingCanvas" resize tabindex='1'></canvas>

        <div id="send-drawing-wrapper">{# helps with absolute positioning #}
        <div id="send-drawing-container">
            <div id="doodle-controls">
                <input type="button" id="control-undo" value="Undo" title="Remove the most recent spline.  (CTRl+Z)" />
            </div>
{#            <input type="button" id="control-vortex" value="&#127786;" />#}
            <hr>
            <form action="{{ url('app_doodles_create') }}" method="post" id="send-drawing-form">
                <label for="send-drawing-who">
                    Who are you ?
                </label>
                <p>
                    <textarea id="send-drawing-who" name="who" rows="5" cols="42" placeholder="… and how can I contact you back ?"></textarea>
                </p>
                <br>
                <label for="send-drawing-what">
                    What do you want ?
                </label>
                <p>
                    <textarea id="send-drawing-what" name="what" rows="9" cols="42" placeholder="… because you get three wishes !"></textarea>
                </p>
                <input id="send-drawing-image" type="hidden" name="doodle" />
                <input type="submit" value="Submit" />
            </form>
        </div>

        </div>

    </div>

    <div id="notifications" role="alertdialog" aria-hidden="true">
{# EXAMPLE NOTIF -- generated by js, see doodle.js #}
{#        <div class="notification backInDown">#}
{#            <img src="img/speaker/penguins.png" alt="speaker" class="speaker">#}
{#            <p>#}
{#                You can speak to me soon.<br>#}
{#                This is another line that is very long and should probably go over to the next line oh yeah il ne faut pas un pouvoir centralisé#}
{#            </p>#}
{#        </div>#}
        <div class="notification backInDown nojs">
            <img src="img/speaker/penguins.png" alt="speaker" class="speaker">
            <p>
                <strong>Javascript is disabled</strong>, and I totally get why.<br />
                I do the same.<br />
                You can send me a message, but doodling will only work if javascript is enabled.
            </p>
        </div>
    </div>

    <script type="application/javascript" src="{{ asset('js/paper.js') }}"></script>
    <script type="application/javascript" src="{{ asset('js/doodle.js') }}"></script>
    <script type="text/paperscript" src="{{ asset('js/drawing-paperscript.js') }}" canvas="doodleDrawingCanvas"></script>
    <script type="text/paperscript" src="{{ asset('js/holding-paperscript.js') }}" canvas="doodleHoldingCanvas"></script>

{% endblock %}
